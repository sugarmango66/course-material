"use strict";(self.webpackChunkcourse_material=self.webpackChunkcourse_material||[]).push([[2718],{6719:(n,a,s)=>{s.r(a),s.d(a,{default:()=>f});var t=s(6252);const e=(0,t._)("h1",{id:"android-runtime-configuration-changes",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#android-runtime-configuration-changes","aria-hidden":"true"},"#"),(0,t.Uk)(" Android Runtime Configuration Changes")],-1),o=(0,t._)("p",null,"So, how can Android so easily support i18n? The secret is through how it handles runtime configuration changes. When the user changes language, all the GUI is destroyed and then re-created. The hard part is to make sure that it's re-created exactly the way the user left it!",-1),c=(0,t._)("iframe",{width:"560",height:"314",src:"https://www.youtube.com/embed/P107Qcnnyys",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,-1),l=(0,t.uE)('<h2 id="lecture-material" tabindex="-1"><a class="header-anchor" href="#lecture-material" aria-hidden="true">#</a> Lecture material</h2><ul><li><a href="android-runtime-configuration-changes.pdf">android-runtime-configuration-changes.pdf</a></li><li><a href="android-runtime-configuration-changes.pptx">android-runtime-configuration-changes.pptx</a></li></ul><h2 id="recommended-reading" tabindex="-1"><a class="header-anchor" href="#recommended-reading" aria-hidden="true">#</a> Recommended reading</h2>',3),p=(0,t.Uk)("Android Developers Guide's page "),r={href:"https://developer.android.com/guide/topics/resources/runtime-changes",target:"_blank",rel:"noopener noreferrer"},u=(0,t.Uk)("Handle configuration changes"),i=(0,t.Uk)("."),k=(0,t.Uk)("In the course book Elements of Android Jetpack: "),_={href:"https://commonsware.com/Jetpack/pages/chap-config-001.html",target:"_blank",rel:"noopener noreferrer"},d=(0,t.Uk)("Coping with Configurations"),m=(0,t._)("h2",{id:"example",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#example","aria-hidden":"true"},"#"),(0,t.Uk)(" Example")],-1),b=(0,t._)("p",null,[(0,t._)("code",null,"MainActivity"),(0,t.Uk)(" with a button functioning as a counter starting on 0. It retains its state using the "),(0,t._)("code",null,"savedInstanceState"),(0,t.Uk)(" parameter.")],-1),U=(0,t._)("div",{class:"language-xml ext-xml line-numbers-mode"},[(0,t._)("pre",{class:"language-xml"},[(0,t._)("code",null,[(0,t._)("span",{class:"token prolog"},'<?xml version="1.0" encoding="utf-8"?>'),(0,t.Uk)("\n"),(0,t._)("span",{class:"token tag"},[(0,t._)("span",{class:"token tag"},[(0,t._)("span",{class:"token punctuation"},"<"),(0,t.Uk)("LinearLayout")]),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token attr-name"},[(0,t._)("span",{class:"token namespace"},"xmlns:"),(0,t.Uk)("android")]),(0,t._)("span",{class:"token attr-value"},[(0,t._)("span",{class:"token punctuation attr-equals"},"="),(0,t._)("span",{class:"token punctuation"},'"'),(0,t.Uk)("http://schemas.android.com/apk/res/android"),(0,t._)("span",{class:"token punctuation"},'"')]),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token attr-name"},[(0,t._)("span",{class:"token namespace"},"xmlns:"),(0,t.Uk)("app")]),(0,t._)("span",{class:"token attr-value"},[(0,t._)("span",{class:"token punctuation attr-equals"},"="),(0,t._)("span",{class:"token punctuation"},'"'),(0,t.Uk)("http://schemas.android.com/apk/res-auto"),(0,t._)("span",{class:"token punctuation"},'"')]),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token attr-name"},[(0,t._)("span",{class:"token namespace"},"xmlns:"),(0,t.Uk)("tools")]),(0,t._)("span",{class:"token attr-value"},[(0,t._)("span",{class:"token punctuation attr-equals"},"="),(0,t._)("span",{class:"token punctuation"},'"'),(0,t.Uk)("http://schemas.android.com/tools"),(0,t._)("span",{class:"token punctuation"},'"')]),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token attr-name"},[(0,t._)("span",{class:"token namespace"},"android:"),(0,t.Uk)("layout_width")]),(0,t._)("span",{class:"token attr-value"},[(0,t._)("span",{class:"token punctuation attr-equals"},"="),(0,t._)("span",{class:"token punctuation"},'"'),(0,t.Uk)("match_parent"),(0,t._)("span",{class:"token punctuation"},'"')]),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token attr-name"},[(0,t._)("span",{class:"token namespace"},"android:"),(0,t.Uk)("layout_height")]),(0,t._)("span",{class:"token attr-value"},[(0,t._)("span",{class:"token punctuation attr-equals"},"="),(0,t._)("span",{class:"token punctuation"},'"'),(0,t.Uk)("match_parent"),(0,t._)("span",{class:"token punctuation"},'"')]),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token attr-name"},[(0,t._)("span",{class:"token namespace"},"android:"),(0,t.Uk)("orientation")]),(0,t._)("span",{class:"token attr-value"},[(0,t._)("span",{class:"token punctuation attr-equals"},"="),(0,t._)("span",{class:"token punctuation"},'"'),(0,t.Uk)("vertical"),(0,t._)("span",{class:"token punctuation"},'"')]),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token attr-name"},[(0,t._)("span",{class:"token namespace"},"android:"),(0,t.Uk)("gravity")]),(0,t._)("span",{class:"token attr-value"},[(0,t._)("span",{class:"token punctuation attr-equals"},"="),(0,t._)("span",{class:"token punctuation"},'"'),(0,t.Uk)("center"),(0,t._)("span",{class:"token punctuation"},'"')]),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token attr-name"},[(0,t._)("span",{class:"token namespace"},"tools:"),(0,t.Uk)("context")]),(0,t._)("span",{class:"token attr-value"},[(0,t._)("span",{class:"token punctuation attr-equals"},"="),(0,t._)("span",{class:"token punctuation"},'"'),(0,t.Uk)(".MainActivity"),(0,t._)("span",{class:"token punctuation"},'"')]),(0,t._)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n    \n    "),(0,t._)("span",{class:"token tag"},[(0,t._)("span",{class:"token tag"},[(0,t._)("span",{class:"token punctuation"},"<"),(0,t.Uk)("Button")]),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token attr-name"},[(0,t._)("span",{class:"token namespace"},"android:"),(0,t.Uk)("layout_width")]),(0,t._)("span",{class:"token attr-value"},[(0,t._)("span",{class:"token punctuation attr-equals"},"="),(0,t._)("span",{class:"token punctuation"},'"'),(0,t.Uk)("wrap_content"),(0,t._)("span",{class:"token punctuation"},'"')]),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token attr-name"},[(0,t._)("span",{class:"token namespace"},"android:"),(0,t.Uk)("layout_height")]),(0,t._)("span",{class:"token attr-value"},[(0,t._)("span",{class:"token punctuation attr-equals"},"="),(0,t._)("span",{class:"token punctuation"},'"'),(0,t.Uk)("wrap_content"),(0,t._)("span",{class:"token punctuation"},'"')]),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token attr-name"},[(0,t._)("span",{class:"token namespace"},"android:"),(0,t.Uk)("id")]),(0,t._)("span",{class:"token attr-value"},[(0,t._)("span",{class:"token punctuation attr-equals"},"="),(0,t._)("span",{class:"token punctuation"},'"'),(0,t.Uk)("@+id/button"),(0,t._)("span",{class:"token punctuation"},'"')]),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"/>")]),(0,t.Uk)("\n    \n"),(0,t._)("span",{class:"token tag"},[(0,t._)("span",{class:"token tag"},[(0,t._)("span",{class:"token punctuation"},"</"),(0,t.Uk)("LinearLayout")]),(0,t._)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br")])],-1),h=(0,t._)("div",{class:"language-kotlin ext-kt line-numbers-mode"},[(0,t._)("pre",{class:"language-kotlin"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"val"),(0,t.Uk)(" KEY_COUNTER "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'"COUNTER"'),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"class"),(0,t.Uk)(" MainActivity "),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"AppCompatActivity"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    \n    "),(0,t._)("span",{class:"token keyword"},"var"),(0,t.Uk)(" counter "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t.Uk)("\n    \n    "),(0,t._)("span",{class:"token keyword"},"override"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"fun"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"onCreate"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("savedInstanceState"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" Bundle"),(0,t._)("span",{class:"token operator"},"?"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token keyword"},"super"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"onCreate"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("savedInstanceState"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token function"},"setContentView"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("R"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("layout"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("activity_main"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        \n        counter "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"when"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("savedInstanceState"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            "),(0,t._)("span",{class:"token keyword"},"null"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"->"),(0,t.Uk)("\n                "),(0,t._)("span",{class:"token number"},"0"),(0,t.Uk)("\n            "),(0,t._)("span",{class:"token keyword"},"else"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"->"),(0,t.Uk)("\n                savedInstanceState"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"getInt"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("KEY_COUNTER"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n        \n        "),(0,t._)("span",{class:"token keyword"},"val"),(0,t.Uk)(" button"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" Button "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"findViewById"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("R"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("id"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("button"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token function"},"with"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("button"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            text "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},[(0,t.Uk)('"'),(0,t._)("span",{class:"token interpolation variable"},"$counter"),(0,t.Uk)('"')]),(0,t.Uk)("\n            setOnClickListener "),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n                counter "),(0,t._)("span",{class:"token operator"},"+="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"1"),(0,t.Uk)("\n                text "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token string"},[(0,t.Uk)('"'),(0,t._)("span",{class:"token interpolation variable"},"$counter"),(0,t.Uk)('"')]),(0,t.Uk)("\n            "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    \n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    \n    "),(0,t._)("span",{class:"token keyword"},"override"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"fun"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"onSaveInstanceState"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("outState"),(0,t._)("span",{class:"token operator"},":"),(0,t.Uk)(" Bundle"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t._)("span",{class:"token keyword"},"super"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"onSaveInstanceState"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("outState"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        outState"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"putInt"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("KEY_COUNTER"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" counter"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    \n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"27"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"28"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"29"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"30"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"31"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"32"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"33"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"34"),(0,t._)("br")])],-1),g={},f=(0,s(3744).Z)(g,[["render",function(n,a){const s=(0,t.up)("OutboundLink"),g=(0,t.up)("CodeGroupItem"),f=(0,t.up)("CodeGroup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[e,o,c,l,(0,t._)("ul",null,[(0,t._)("li",null,[p,(0,t._)("a",r,[u,(0,t.Wm)(s)]),i]),(0,t._)("li",null,[k,(0,t._)("ul",null,[(0,t._)("li",null,[(0,t._)("a",_,[d,(0,t.Wm)(s)])])])])]),m,b,(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{title:"res/layout/activity_main.xml"},{default:(0,t.w5)((()=>[U])),_:1}),(0,t.Wm)(g,{title:"MainActivity.kt"},{default:(0,t.w5)((()=>[h])),_:1})])),_:1})],64)}]])},3744:(n,a)=>{a.Z=(n,a)=>{const s=n.__vccOpts||n;for(const[n,t]of a)s[n]=t;return s}},3090:(n,a,s)=>{s.r(a),s.d(a,{data:()=>t});const t={key:"v-748b05f7",path:"/lectures/android-runtime-configuration-changes/",title:"Android Runtime Configuration Changes",lang:"en-US",frontmatter:{sidebar:"auto",navbarTitle:"Android Runtime Configuration Changes"},excerpt:"",headers:[{level:2,title:"Lecture material",slug:"lecture-material",children:[]},{level:2,title:"Recommended reading",slug:"recommended-reading",children:[]},{level:2,title:"Example",slug:"example",children:[]}],filePathRelative:"lectures/android-runtime-configuration-changes/README.md",git:{updatedTime:1643553137e3}}}}]);
//# sourceMappingURL=v-748b05f7.50a6921f.js.map