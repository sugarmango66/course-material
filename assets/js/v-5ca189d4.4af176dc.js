"use strict";(self.webpackChunkcourse_material=self.webpackChunkcourse_material||[]).push([[834],{8385:(n,s,a)=>{a.r(s),a.d(s,{default:()=>ht});var t=a(6252);const e=(0,t.uE)('<h1 id="asynchronous-programming-in-javascript" tabindex="-1"><a class="header-anchor" href="#asynchronous-programming-in-javascript" aria-hidden="true">#</a> Asynchronous Programming in JavaScript</h1><p>In this lecture we&#39;ll take a look at how synchronous programming differs from asynchronous programming, when you should use which one, and how we can use asynchronous programming in JavaScript through <em>callback functions</em>, <em>promises</em> and <em>promises with <code>async</code> and <code>wait</code></em>.</p><h2 id="what-is-synchronous-programming" tabindex="-1"><a class="header-anchor" href="#what-is-synchronous-programming" aria-hidden="true">#</a> What is Synchronous Programming?</h2>',3),o=(0,t.Uk)("When you first learned programming, "),c=(0,t._)("em",null,"synchronous programming",-1),l=(0,t.Uk)(" is most likely what you learned. In synchronous programming, one thing is carried out at a time, and you don't start doing the next thing until the first thing is done. You can think of that "),u=(0,t._)("em",null,"thing",-1),p=(0,t.Uk)(" as a function, as shown in "),i=(0,t.Uk)(" below."),r=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// Example of a synchronous function."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("x"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" y")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" sum "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" x "),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" y\n\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" sum\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// Example of calls to a synchronous function."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" sum1 "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"2"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" sum2 "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"3"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\nconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("sum1 "),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" sum2"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br")])],-1),k=(0,t.Uk)("In "),_=(0,t.uE)(" above, <code>getSum()</code> is a synchronous function. What that means is that when <code>getSum(1, 2)</code> is called, <code>getSum()</code> will do all its work, and then return back the result, which then is stored in <code>sum1</code>. Then we continue with the call <code>getSum(3, 4)</code> on next line, and <code>getSum()</code> will again do all its work again, and then return back the result, which we then store in <code>sum2</code>.",15),m=(0,t._)("p",null,"This sounds obvious, right? Well, that's because it works the way you're used to.",-1),b=(0,t._)("h2",{id:"what-s-the-problem-with-synchronous-programming",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#what-s-the-problem-with-synchronous-programming","aria-hidden":"true"},"#"),(0,t.Uk)(" What's the Problem with Synchronous Programming?")],-1),d=(0,t._)("p",null,[(0,t.Uk)("The problem with synchronous programming occurs when we have "),(0,t._)("em",null,"long running operations"),(0,t.Uk)(" and want to be able to do multiple things at the same time. What counts as a long running operation depends on what type of application you create, but in many applications operations taking more than a few milliseconds to complete count as long running. The problem with synchronous programming is that we can only run one long running operation at a time, and that is problematic for some type of applications. A few examples of these are given next.")],-1),h=(0,t._)("h3",{id:"example-1-graphical-user-interfaces",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#example-1-graphical-user-interfaces","aria-hidden":"true"},"#"),(0,t.Uk)(" Example 1: Graphical User Interfaces")],-1),U=(0,t.Uk)("One problem with synchronous programming occurs when we implement a graphical user interface (GUI). Imagine the user clicks on a button, and we start to compute something that takes 3 seconds to compute. If we use synchronous programming, nothing else in our code during those 3 seconds would run, so the graphical user interface would freeze, so the user can't click on an abort button, nor do anything else. Want an example of this? Just click "),w=(0,t.Uk)("this button"),g=(0,t.Uk)(" and then try to select text on this page, click on a link, or something, within 3 seconds (requires JavaScript to be enabled in your web browser)."),f=(0,t.Uk)("The code in "),y=(0,t.Uk)(" below explains the problem in detail."),v=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// This is the function that is called when the button is clicked."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"handleClickOnButton"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// Imagine the sleep() function would exist, and calling it with"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// 3000 would make the function wait 3000ms before it returned."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token function"},"sleep"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"3000"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// Then non of our code would execute during those 3000ms,"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// and the GUI would freeze."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// (JS doesn't have a such stupid function, so it doesn't exist). "),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// The sleep function in this example is implemented like this"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// (we use a loop with very many iterations to simulate a long running operation):"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"sleep"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"sleepMs"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" timeToWakeUp "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" Date"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"now"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" sleepMs\n\t"),(0,t._)("span",{class:"token keyword"},"while"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("Date"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"now"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token operator"},"<"),(0,t.Uk)(" timeToWakeUp"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token comment"},"// Do nothing"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br")])],-1),S=(0,t.uE)('<p>In this example, the long running operation was just a loop doing nothing for many iterations, but you can substitute it with any operation that takes long time to complete, for example to check if there&#39;s a human in the world named <code>Chipsope</code> (would in worst case require you to compare <code>Chipsope</code> with ~7 billion names, which would take a while).</p><h3 id="example-2-data-loading" tabindex="-1"><a class="header-anchor" href="#example-2-data-loading" aria-hidden="true">#</a> Example 2: Data Loading</h3><p>One problem with synchronous programming occurs when we want to carry out multiple tasks in parallel, and each task involves a lot of waiting, such as:</p><ul><li>Waiting for the result of a query sent to the database</li><li>Waiting for the response for an HTTP request we have sent</li><li>Waiting for GPS coordinates from a GPS receiver</li><li>Waiting for the computer to load the content of a file from the file system</li><li>Etc.</li></ul>',4),W=(0,t.Uk)("If we use synchronous programming, then we start carrying out the first task, which involves some waiting for the result (for example from the database). When we get back the result, we finish carrying out the first task, and then we start carrying out the second task, which shortly makes us wait again for another result (perhaps loading the content from a file), and then when we finally get back the result for that, we finish the second task, and so on. This is visualized in "),x=(0,t.Uk)(" below."),j=(0,t._)("p",null,"The problem here is that we spend most of our time on waiting, instead of doing useful work. While we wait for the database result from task 1, we want to start carrying out task 2, and wait for the result for task 2 at the same time as we wait for the result from task 1. But we can't do that with synchronous programming, since we can only do one thing at a time in synchronous programming! 😢",-1),T=(0,t.Uk)("An example of this is shown in "),A=(0,t.Uk)(" below."),I=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getAllHumans"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// Imagine db.getAllRows() would be a synchronous function, and it would"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// take 1 second before it has received the humans from the database."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" allHumans "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" db"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"getAllRows"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"humans"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" allHumans\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getAllPets"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// Imagine fileSystem.loadFile() would be a synchronous function, and"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// it would take 1 second before it has loaded the pets from the file."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" allPets "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" fileSystem"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"loadFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"pets.json"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" allPets\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" humans "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getAllHumans"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// This line would take 1.001 seconds to complete (1 second spent on waiting)."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" pets "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getAllPets"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// This line would take 1.001 seconds to complete (1 second spent on waiting)."),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br")])],-1),P=(0,t.Uk)("In "),q=(0,t.Uk)(" above it takes ~2 seconds to load all data, but if humans and pets could be loaded in parallel, it would only take ~1 second. You don't like applications that takes 2 seconds to start before you can use them right? So you probably don't want to use synchronous programming for those type of applications"),E=(0,t._)("h2",{id:"what-is-asynchronous-programming",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#what-is-asynchronous-programming","aria-hidden":"true"},"#"),(0,t.Uk)(" What is Asynchronous Programming?")],-1),F=(0,t.Uk)("Asynchronous programming is when we start a long running operation, and it will run "),D=(0,t._)("em",null,"in the background",-1),B=(0,t.Uk)(". The rest of our main code will continue to run as usual until it has completed (at the same time as the long running operation runs in the background). Then, sometime in the future, the long running operation in the background will complete, and notify our ordinary code what the result of the long running operation was, and our ordinary code will handle the result of the long running operation. A visualization of this is shown in "),z=(0,t.Uk)(" below."),Q=(0,t.uE)('<div class="custom-container tip"><p class="custom-container-title">Long running operations that aren&#39;t waiting</p><p>Here we say that long running operations usually involve a lot of waiting. Long running operations can instead/also do useful work, e.g. compute something really complex that takes a very long time to compute. These operations can still run in the background at the same time as our ordinary main code thanks to threads and multiple cores (or in worst case time slicing of the CPU). These are details you don&#39;t need to worry about in this lecture, just remember that asynchronous programming is not only useful when waiting is involved, but for all types of long running operations.</p></div><p>The question is how a long running operation can tell our ordinary code when it&#39;s done with it works in the background, and what the result is. That can be done in different ways, such as by using callback functions or promises.</p><h2 id="asynchronous-programming-with-callback-functions" tabindex="-1"><a class="header-anchor" href="#asynchronous-programming-with-callback-functions" aria-hidden="true">#</a> Asynchronous Programming with Callback Functions</h2><p>In asynchronous programming, one way to indicate what should happen after a long running operation has completed is to pass a <code>callback</code> function to the long running operation, and when the long running operation has completed, it will call the <code>callback</code> function, and pass the result of the long running operation as an argument to our <code>callback</code> function. In the <code>callback</code> function we write the code that should handle the result of the long running operation.</p><p>The function that contains the long running operation and receives the <code>callback</code> function is usually called for an <em>asynchronous function</em>.</p>',5),C=(0,t.Uk)("For example, if we have the synchronous function in "),R=(0,t.Uk)(" below."),J=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// Synchronous function that returns back the result."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("x"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" y")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" theSum "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" x "),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" y\n\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" theSum\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" sum "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"2"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\nconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("sum"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br")])],-1),H=(0,t.Uk)("And would like to use this function in an asynchronous way with a "),O=(0,t._)("code",null,"callback",-1),N=(0,t.Uk)(" function, it would look as shown in "),G=(0,t.Uk)(" below instead."),L=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// This asynchronous function contains the long running operation."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("x"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" y"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" callback")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\n\t"),(0,t._)("span",{class:"token comment"},'// Computing the sum is the "long running operation".'),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" theSum "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" x "),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" y "),(0,t._)("span",{class:"token comment"},"// (imagine this takes 1 second to compute)"),(0,t.Uk)("\n\n\t"),(0,t._)("span",{class:"token comment"},"// When the result of the long running operation"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// has been computed, pass it to the callback function."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("theSum"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// Call the asynchronous function,"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// and pass along our anonymous callback function."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"getSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"2"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"sum"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\n\t"),(0,t._)("span",{class:"token comment"},"// When this anonymous function is called,"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// the long running operation has completed."),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("sum"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br")])],-1),Y=(0,t._)("p",null,[(0,t.Uk)("Even though "),(0,t._)("code",null,"getSum()"),(0,t.Uk)(" above has a "),(0,t._)("code",null,"callback"),(0,t.Uk)(" function as a parameter, everything will run synchronously, as you're used to. That's because we don't do any work that runs "),(0,t._)("em",null,"in the background"),(0,t.Uk)(". To make "),(0,t._)("code",null,"getSum()"),(0,t.Uk)(" asynchronous, we need to tell it to do its work in the background somehow. In JavaScript, you can do that by calling an asynchronous built-in function, like:")],-1),M={href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API",target:"_blank",rel:"noopener noreferrer"},Z=(0,t.Uk)("fetch"),K=(0,t.Uk)(" (to send an HTTP request)"),V={href:"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout",target:"_blank",rel:"noopener noreferrer"},X=(0,t.Uk)("setTimeout"),$=(0,t.Uk)(" (to schedule a function to be called later)"),nn={href:"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval",target:"_blank",rel:"noopener noreferrer"},sn=(0,t.Uk)("setInterval"),an=(0,t.Uk)(" (to schedule a function to be called repeatedly with a given interval)"),tn=(0,t._)("li",null,"Etc.",-1),en=(0,t.Uk)("To really make "),on=(0,t._)("code",null,"getSum()",-1),cn=(0,t.Uk)(" asynchronous, we can call "),ln=(0,t._)("code",null,"setTimeout()",-1),un=(0,t.Uk)(" in it, as shown in "),pn=(0,t.Uk)(" below."),rn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// Asynchronous function that calls the callback function with the result."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("x"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" y"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" callback")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\n\t"),(0,t._)("span",{class:"token comment"},"// Here we call an asynchronous function,"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// making our own function (getSum) asynchronous."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// In this case we schedule the anonymous function"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// below to be called 1 second later."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token function"},"setTimeout"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\n\t\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" theSum "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" x "),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" y\n\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("theSum"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"1000"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n\t"),(0,t._)("span",{class:"token comment"},"// Here we return back immediately, before we have computed the sum."),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// This will call our own asynchronous function,"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// which will call setTimeout(), and then return here immediately."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"getSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"1"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"2"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"sum"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("sum"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// This will call our own asynchronous function,"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// which will call setTimeout(), and then return here immediately."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"getSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"3"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"sum"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("sum"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// This is the first value that will be logged."),(0,t.Uk)("\nconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"Hello!"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// 1 second later, the two callback functions we have passed to setTimeout()"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// will be called (one at a time), which in turn will compute their sums"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// and call the callback functions we passed to getSum(), in which we log"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// the computed sums (first 3, then 7)."),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"27"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"28"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"29"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"30"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"31"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"32"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"33"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"34"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"35"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"36"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"37"),(0,t._)("br")])],-1),kn=(0,t._)("p",null,"So, to summarize:",-1),_n=(0,t._)("ol",null,[(0,t._)("li",null,"To make a function asynchronous, it must somehow do work in the background, for example by calling an existing asynchronous function"),(0,t._)("li",null,[(0,t.Uk)("To listen for when an asynchronous function is done running in the background, we can pass a "),(0,t._)("code",null,"callback"),(0,t.Uk)(" function to it, which the asynchronous function will call when it's done running in the background")])],-1),mn=(0,t._)("h3",{id:"error-handling",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#error-handling","aria-hidden":"true"},"#"),(0,t.Uk)(" Error Handling")],-1),bn=(0,t.Uk)("In synchronous programming, when you discover something is wrong, you usually throw an exception, which you later can catch, which you can see in "),dn=(0,t.Uk)(" below."),hn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// A synchronous function that might throw an exception."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("dividend"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" divisor")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("divisor "),(0,t._)("span",{class:"token operator"},"=="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"throw"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'"Can\'t divide by 0."'),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" dividend "),(0,t._)("span",{class:"token operator"},"/"),(0,t.Uk)(" divisor\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// The main code that contains the error handling."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"try"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" quotient "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br")])],-1),Un=(0,t.Uk)("If you try to do something similar in asynchronous programming with "),wn=(0,t._)("code",null,"callback",-1),gn=(0,t.Uk)(" functions, it could look as shown in "),fn=(0,t.Uk)(" below."),yn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// An asynchronous function that might throw an exception."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("dividend"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" divisor"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" callback")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token function"},"setTimeout"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("divisor "),(0,t._)("span",{class:"token operator"},"=="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token keyword"},"throw"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'"Can\'t divide by 0."'),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("dividend "),(0,t._)("span",{class:"token operator"},"/"),(0,t.Uk)(" divisor"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"1000"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// The main code that needs to handle errors."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"try"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"quotient"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br")])],-1),vn=(0,t.uE)("<p>This does unfortunately not work. The reason is simple: when you call <code>getQuotient()</code>, you are inside the try block, but <code>getQuotient()</code> returns back almost immediately, and you will leave the try/catch block. Then 1 second later, the <code>callback</code> you passed to <code>setTimeout()</code> will be called, and if you now throw the exception from inside that <code>callback</code>, you will throw it to the one who called the <code>callback</code> function, which will be the JavaScript runtime environment, so that&#39;s where the exception will be thrown to, and there of course no one is trying to catch the specific exceptions your code throws.</p>",1),Sn=(0,t.Uk)("The workaround to this problem is to, instead of using try-and-catch, pass two values to the "),Wn=(0,t._)("code",null,"callback",-1),xn=(0,t.Uk)(" function. The first value is the exception (usually named "),jn=(0,t._)("code",null,"error",-1),Tn=(0,t.Uk)("). If everything goes well and you don't have an error, you simply use "),An=(0,t._)("code",null,"null",-1),In=(0,t.Uk)(" as the error. The second value is the result of the long running operation. In your "),Pn=(0,t._)("code",null,"callback",-1),qn=(0,t.Uk)(" function you simply check if the first argument is "),En=(0,t._)("code",null,"null",-1),Fn=(0,t.Uk)(" or not with an if statement to figure out if you got an error, as shown in "),Dn=(0,t.Uk)(" below."),Bn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("dividend"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" divisor"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" callback")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token function"},"setTimeout"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("divisor "),(0,t._)("span",{class:"token operator"},"=="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"Can\'t divide by 0"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"null"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" dividend "),(0,t._)("span",{class:"token operator"},"/"),(0,t.Uk)(" divisor"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"1000"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" quotient")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br")])],-1),zn=(0,t._)("h2",{id:"the-drawback-with-asynchronous-programming-with-callback-functions",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#the-drawback-with-asynchronous-programming-with-callback-functions","aria-hidden":"true"},"#"),(0,t.Uk)(" The Drawback with Asynchronous Programming with Callback Functions")],-1),Qn=(0,t.Uk)("The benefit with asynchronous programming with "),Cn=(0,t._)("code",null,"callback",-1),Rn=(0,t.Uk)(" functions is that we can have multiple different long running operations that runs in the background at the same time. But it comes with a cost: it makes our code harder to read compared to synchronous programming, especially when you have many asynchronous functions you need to call in order, as shown in "),Jn=(0,t.Uk)(" below."),Hn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// Imagine getUserById(), getPetsByOwnerName() and"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// storeInJsonFile() are all asynchronous functions."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"loadUserWithPetsAndStoreInFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("userId"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" filename"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" callback")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token function"},"getUserById"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("userId"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("userError"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" user")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("userError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("userError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token function"},"getPetsByOwnerName"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("user"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("petsError"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" pets")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("petsError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("petsError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" data "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t\tpets\n\t\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t\t\t\t\t"),(0,t._)("span",{class:"token function"},"storeInJsonFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("data"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" filename"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("storeError"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" fileSize")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("storeError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("storeError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"null"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" fileSize"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br")])],-1),On=(0,t.Uk)("This is just a simple example, but you can already now see that the code has become quite hard to read due to all the indentation of the code, especially at the end of the code, with all closing brackets. Imagine we would need to call more asynchronous functions, or use more loops, or conditional statements, etc. This messy type of code is known as "),Nn={href:"http://callbackhell.com/",target:"_blank",rel:"noopener noreferrer"},Gn=(0,t.Uk)("Callback Hell"),Ln=(0,t.Uk)("."),Yn=(0,t.Uk)("If we compare the code above with synchronous code with the same functionality, it would look as shown in "),Mn=(0,t.Uk)(" below."),Zn=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"loadUserWithPetsAndStoreInFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("userId"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" filename")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"try"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" user "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getUserById"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("userId"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" pets "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getPetsByOwnerName"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("user"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" data "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\tpets\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" fileSize "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" fileSystem"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"storeInJsonFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("data"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" filename"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" fileSize\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"throw"),(0,t.Uk)(" error "),(0,t._)("span",{class:"token comment"},"// Could even skip try and catch since we throw the error again, but whatever."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br")])],-1),Kn=(0,t._)("p",null,"Clearly, the synchronous code is much easier to read. So this is the trade off: synchronous code is easier to read, but asynchronous code can run more efficient, since we don't waste time on waiting, and we can do multiple things at the same time in the background with asynchronous code. Wouldn't it be great if there was a way to get the best of both worlds? Introducing promises.",-1),Vn=(0,t._)("h2",{id:"what-are-promises",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#what-are-promises","aria-hidden":"true"},"#"),(0,t.Uk)(" What are Promises?")],-1),Xn=(0,t._)("p",null,[(0,t._)("em",null,"Promises"),(0,t.Uk)(" is an attempt to make asynchronous code more readable and to avoid callback hell (making the code look more like synchronous code), but that still runs asynchronously. Instead of passing a "),(0,t._)("code",null,"callback"),(0,t.Uk)(" to an asynchronous function, the asynchronous function returns back a promise. The promise is an object that represent a long running operation that will be completed some time in the future.")],-1),$n=(0,t.Uk)("Initially, the promise will be in the "),ns=(0,t._)("code",null,"Pending",-1),ss=(0,t.Uk)(" state, meaning that the long running operation is still running and hasn't completed yet. When the long running operation complete (when the promise is "),as=(0,t._)("em",null,"resolved",-1),ts=(0,t.Uk)("), the promise will be in the "),es=(0,t._)("code",null,"Fulfilled",-1),os=(0,t.Uk)(" state, and we can get the value the long running operations resulted in through the promise object. If something instead goes wrong with the long running operation (when the promise is "),cs=(0,t._)("em",null,"rejected",-1),ls=(0,t.Uk)("), the promise will go into the "),us=(0,t._)("code",null,"Rejected",-1),ps=(0,t.Uk)(" state, and we can get the error through the promise object. This is visualized in "),is=(0,t.Uk)(" below."),rs=(0,t.uE)("<p>When you have called an asynchronous function and received back a promise from it, you usually want to listen for when the promise leaves the <code>Pending</code> state, and goes to either the <code>Pending</code> state or the <code>Fulfilled</code> state. You do that by calling <code>.then()</code> and <code>.catch()</code> on the promise respectively, and pass each of them a <code>callback</code> function.</p>",1),ks=(0,t.Uk)("For example, if "),_s=(0,t._)("code",null,"getQuotient()",-1),ms=(0,t.Uk)(" would be an asynchronous function with a "),bs=(0,t._)("code",null,"callback",-1),ds=(0,t.Uk)(" function, you would use it as shown in "),hs=(0,t.Uk)(" below."),Us=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" quotient")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br")])],-1),ws=(0,t.Uk)("If "),gs=(0,t._)("code",null,"getQuotient()",-1),fs=(0,t.Uk)(" instead of having a "),ys=(0,t._)("code",null,"callback",-1),vs=(0,t.Uk)(" function would return back a promise, you would use it as shown in "),Ss=(0,t.Uk)(" below."),Ws=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" promise "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// When the line above has been executed, the promise will be in the Pending state."),(0,t.Uk)("\n\npromise"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"quotient"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// When the promise has been resolved (enters the Fulfilled state),"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// this function will be called."),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\npromise"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// When the promise has been rejected (enters the Rejected state),"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// this function will be called."),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br")])],-1),xs=(0,t.uE)("<p>Since we still provide callback functions to <code>.then()</code> and <code>.catch()</code>, you might think this code will result in callback hell as well when we start calling multiple asynchronous functions returning back promises, but that is not the case, because promises are <em>chainable</em>. This is the hard part to understand with promises, but this is what makes them so nice, so let&#39;s go through how chaining works in detail.</p><p>The callback function you pass to <code>.then()</code> can:</p><ol><li>Return back a new promise</li><li>Return back another value that automatically will be wrapped in a promise that will immediately be resolved</li><li>Not return back any value at all (i.e. <code>undefined</code>), in which case we can <strong>see it as</strong> the promise you called <code>.then()</code> on will be returned back</li></ol>",3),js=(0,t.Uk)("Note that you can "),Ts=(0,t._)("strong",null,"see it as",-1),As=(0,t.Uk)(" that the callback function you pass to "),Is=(0,t._)("code",null,".then()",-1),Ps=(0,t.Uk)(" will always return back a promise. Promises are also implemented in a very clever way, so you can "),qs=(0,t._)("strong",null,"see it as",-1),Es=(0,t.Uk)(" the promise you return back from the callback function passed to "),Fs=(0,t._)("code",null,".then()",-1),Ds=(0,t.Uk)(" will also be returned from the call to "),Bs=(0,t._)("code",null,".then()",-1),zs=(0,t.Uk)(". All this and list item 3 above means that we can simplify the code we had earlier to the one shown in "),Qs=(0,t.Uk)(" below."),Cs=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" promise "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\npromise"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"quotient"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// This function does not return a value, so we can see it"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},'// as the promise itself (the promise in the "promise" variable)'),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// will be returned."),(0,t.Uk)("\n\t\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// So here we immediately call .catch() on the same promise."),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br")])],-1),Rs=(0,t.Uk)("As you probably realise, we can even get rid of the "),Js=(0,t._)("code",null,"promise",-1),Hs=(0,t.Uk)(" variable altogether, and call "),Os=(0,t._)("code",null,".then()",-1),Ns=(0,t.Uk)(" and "),Gs=(0,t._)("code",null,".catch()",-1),Ls=(0,t.Uk)(" on the promise directly, as shown in "),Ys=(0,t.Uk)(" below."),Ms=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"quotient"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br")])],-1),Zs=(0,t.Uk)("This code will run asynchronously, and is looks really similar to what a synchronous version of the code would look like, which is shown in "),Ks=(0,t.Uk)(", which is really promising 😄"),Vs=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"try"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" quotient "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br")])],-1),Xs=(0,t.Uk)("The question is, how readable will the code be when we start using multiple promises? Will we get into a callback hell similar situation, as the one shown in "),$s=(0,t.Uk)(" below where we use asynchronous functions with callbacks?"),na=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// Asynchronous version with callback functions."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"loadUserWithPetsAndStoreInFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("userId"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" filename"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" callback")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token function"},"getUserById"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("userId"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("userError"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" user")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("userError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("userError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token function"},"getPetsByOwnerName"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("user"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("petsError"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" pets")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("petsError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("petsError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" data "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t\tpets\n\t\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t\t\t\t\tfileSystem"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"storeInJsonFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("data"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" filename"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("storeError"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" fileSize")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("storeError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("storeError"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t\t\t\t"),(0,t._)("span",{class:"token function"},"callback"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"null"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" fileSize"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// Sample usage of the function."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"loadUserWithPetsAndStoreInFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"3"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'"data.json"'),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"Data stored in file "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("fileSize"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'" bytes big!"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"27"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"28"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"29"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"30"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"31"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"32"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"33"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"34"),(0,t._)("br")])],-1),sa=(0,t.Uk)("No, list item 1 above ("),aa=(0,t._)("em",null,[(0,t.Uk)("our callback function passed to "),(0,t._)("code",null,".then()"),(0,t.Uk)(" can return back a new promise")],-1),ta=(0,t.Uk)(") makes sure that we don't get into a callback hell situation. If the asynchronous functions in the "),ea=(0,t.Uk)(" above would return back promises instead of using callback functions, the code would look as shown in "),oa=(0,t.Uk)(" below."),ca=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// Asynchronous version with promises."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"loadUserWithPetsAndStoreInFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("userId"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" filename")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getUserById"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("userId"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"user"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getPetsByOwnerName"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("user"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// We return back a new promise here..."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"pets"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},'// ...so here we call "then" on that new getPetsByOwnerName promise!'),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" data "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\tpets\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" fileSystem"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"storeInJsonFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("data"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" filename"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// We return back a new promise here..."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"fileSize"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},'// ...so here we call "then" on that new fileSystem promise!'),(0,t.Uk)("\n\t\t\n\t\t"),(0,t._)("span",{class:"token comment"},"// The value we return here is not a promise, so it will"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token comment"},"// automatically be wrapped in a resolved promise."),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" fileSize\n\t\t"),(0,t._)("span",{class:"token comment"},"// This last promise can be seen as the final promise we"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token comment"},"// return back from loadUserWithPetsAndStoreInFile()."),(0,t.Uk)("\n\t\t\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// Sample usage of the function."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"loadUserWithPetsAndStoreInFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"3"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'"data.json"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"fileSize"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"Data stored in file "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("fileSize"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'" bytes big!"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"25"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"26"),(0,t._)("br")])],-1),la=(0,t.Uk)("An importing thing to know when using chained promises like we do here is that if one of the promises in the chain is rejected, the next promises in the chain will never be resolved, and the error will be passed to the callback functions passed to "),ua=(0,t._)("code",null,".catch()",-1),pa=(0,t.Uk)(" no matter which promise that was rejected. So in "),ia=(0,t.Uk)(" above, even if it looks like we only call "),ra=(0,t._)("code",null,".catch()",-1),ka=(0,t.Uk)(" on the last promise in the chain, the callback function we pass to it will be called when any promise in the chain is rejected."),_a=(0,t.Uk)("This way of writing asynchronous code (with promises) is really similar to synchronous code, as shown in "),ma=(0,t.Uk)(" below."),ba=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// Synchronous version."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"loadUserWithPetsAndStoreInFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("userId"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" filename")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" user "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getUserById"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("userId"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" pets "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getPetsByOwnerName"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("user"),(0,t._)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" data "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\tpets\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" fileSize "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(" fileSystem"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"storeInJsonFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("data"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" filename"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" fileSize\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token comment"},"// Sample usage of the function."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"try"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" fileSize "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"loadUserWithPetsAndStoreInFile"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"3"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'"data.json"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"Data stored in file "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("fileSize"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'" bytes big!"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"error"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br")])],-1),da=(0,t.uE)('<p>The only downside with promises is that we need to pass callback functions to <code>.then()</code> and <code>.catch()</code>, which makes our code a little bit more indented and a little bit harder to read than the synchronous code, but that we can solve with <code>async</code> and <code>await</code>.</p><h2 id="async-and-await" tabindex="-1"><a class="header-anchor" href="#async-and-await" aria-hidden="true">#</a> Async and Await</h2><p>The keywords <code>async</code> and <code>await</code> can make our asynchronous code with promises even more readable. The <code>await</code> operator is the real hero of these two. Instead of calling <code>.then()</code> or <code>.catch()</code> on a promise, we can wait for the promise to be resolved or rejected with the <code>await</code> operator. When the promise resolve, the <code>await</code> operator will yield the value the promise resolved to, and when the promise is rejected the <code>await</code> operator will throw the error as an exception.</p>',3),ha=(0,t.Uk)("So, without "),Ua=(0,t._)("code",null,"async",-1),wa=(0,t.Uk)(" and "),ga=(0,t._)("code",null,"await",-1),fa=(0,t.Uk)(", we can call an asynchronous function returning a promise as shown in "),ya=(0,t.Uk)(" below."),va=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// Asynchronous version with promises."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"then"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"quotient"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},"error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br")])],-1),Sa=(0,t.Uk)("If we would use the "),Wa=(0,t._)("code",null,"await",-1),xa=(0,t.Uk)(" operator, it would instead look as shown in "),ja=(0,t.Uk)(" below."),Ta=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// Asynchronous version with promises and await."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"try"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" quotient "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"await"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br")])],-1),Aa=(0,t._)("p",null,[(0,t.Uk)("This code is just as readable as synchronous code! 😄 The only difference is that whenever we call a function that returns a promise, we must remember to use the "),(0,t._)("code",null,"await"),(0,t.Uk)(" operator to wait for the promise to be resolved or rejected.")],-1),Ia=(0,t.Uk)("Whenever you use the "),Pa=(0,t._)("code",null,"await",-1),qa=(0,t.Uk)(" operator in a function, you must mark that function with the "),Ea=(0,t._)("code",null,"async",-1),Fa=(0,t.Uk)(" keyword. A function marked with the "),Da=(0,t._)("code",null,"async",-1),Ba=(0,t.Uk)(" keyword always returns back a promise that resolves to the value you "),za=(0,t._)("code",null,"return",-1),Qa=(0,t.Uk)(" back from the function. An example of that is shown in "),Ca=(0,t.Uk)(" below."),Ra=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token comment"},"// Asynchronous version with promises and async/await."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"async"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getTheSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" quotient1 "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"await"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"2"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" quotient2 "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"await"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"5"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"3"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" quotient1 "),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)(" quotient12\n\t"),(0,t._)("span",{class:"token comment"},"// The sum will be wrapped in a promise,"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// since the `async` keyword is used on this function."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"async"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"logTheSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"try"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" theSum "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"await"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getTheSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"Couldn\'t log the sum because division by 0."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// Even though this function does not explicitly return a value,"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// a promise will be returned implicitly."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token function"},"logTheSum"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t._)("span",{class:"token comment"},"// Use the await operator here if you don't want the code"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// execution to continue until the promise has been fulfilled or rejects."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// As it is now (without the await operator), Hello! will be logged first."),(0,t.Uk)("\n\nconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"Hello!"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br")])],-1),Ja=(0,t._)("h2",{id:"how-to-create-promises",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#how-to-create-promises","aria-hidden":"true"},"#"),(0,t.Uk)(" How to Create Promises")],-1),Ha=(0,t._)("p",null,"Often, promises are created automatically for you when you call one of the built-in functions in the JavaScript runtime environment that run asynchronously and returns a promise, such as:",-1),Oa={href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API",target:"_blank",rel:"noopener noreferrer"},Na=(0,t.Uk)("fetch()"),Ga=(0,t.Uk)("It's also possible to create your own promises using "),La={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",target:"_blank",rel:"noopener noreferrer"},Ya=(0,t.Uk)("the Promise constructor"),Ma=(0,t.Uk)(", as shown in "),Za=(0,t.Uk)(" below."),Ka=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" myPromise "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t._)("span",{class:"token class-name"},"Promise"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("resolve"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" reject")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// The work the promise should do should be written here."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// If all goes well, call resolve(), and pass it the computed value."),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token comment"},"// If something goes wrong, call reject(), and pass it the error."),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br")])],-1),Va=(0,t._)("p",null,[(0,t.Uk)("You need to pass a callback function to the Promise constructor. That callback function will be invoked immediately by the constructor, and in that function you should write the code for the long running operation. The constructor will also pass you two callback functions, one named "),(0,t._)("code",null,"resolve()"),(0,t.Uk)(", and one named "),(0,t._)("code",null,"reject()"),(0,t.Uk)(".")],-1),Xa=(0,t._)("p",null,[(0,t.Uk)("When your long running operation has completed, you should call "),(0,t._)("code",null,"resolve()"),(0,t.Uk)(" and pass it the value the long running operation resulted in. If something goes wrong you should instead call "),(0,t._)("code",null,"reject()"),(0,t.Uk)(", and pass it the error.")],-1),$a=(0,t.Uk)("To implement "),nt=(0,t._)("code",null,"getQuotient()",-1),st=(0,t.Uk)(" as an asynchronous function using promises, it would look as shown in "),at=(0,t.Uk)(" below."),tt=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("dividend"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" divisor")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t._)("span",{class:"token class-name"},"Promise"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("resolve"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" reject")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("divisor "),(0,t._)("span",{class:"token operator"},"=="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token function"},"reject"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"Can\'t divide by 0"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token function"},"resolve"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("dividend "),(0,t._)("span",{class:"token operator"},"/"),(0,t.Uk)(" divisor"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token comment"},"// Or create the promise implicitly by using the async keyword:"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token keyword"},"async"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("dividend"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" divisor")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("divisor "),(0,t._)("span",{class:"token operator"},"=="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"throw"),(0,t.Uk)(),(0,t._)("span",{class:"token string"},'"Can\'t divide by 0"'),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(" dividend "),(0,t._)("span",{class:"token operator"},"/"),(0,t.Uk)(" divisor\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"try"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" quotient "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"await"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"19"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"20"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"21"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"22"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"23"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"24"),(0,t._)("br")])],-1),et=(0,t.Uk)("You can use the promise above in the same way as any other promise, but since it doesn't contain any call to an asynchronous function (that runs in the background), it will still run synchronously. To make it asynchronous, we could for example use "),ot=(0,t._)("code",null,"setTimeout()",-1),ct=(0,t.Uk)(" to delay the computations, as shown in "),lt=(0,t.Uk)(" below."),ut=(0,t._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,t._)("pre",{class:"language-javascript"},[(0,t._)("code",null,[(0,t._)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("dividend"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" divisor")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t._)("span",{class:"token class-name"},"Promise"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token parameter"},[(0,t.Uk)("resolve"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(" reject")]),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token function"},"setTimeout"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token keyword"},"function"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token keyword"},"if"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("divisor "),(0,t._)("span",{class:"token operator"},"=="),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t"),(0,t._)("span",{class:"token function"},"reject"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"Can\'t divide by 0"'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"else"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t\t\t\t"),(0,t._)("span",{class:"token function"},"resolve"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("dividend "),(0,t._)("span",{class:"token operator"},"/"),(0,t.Uk)(" divisor"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\t\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"1000"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n"),(0,t._)("span",{class:"token keyword"},"try"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\t"),(0,t._)("span",{class:"token keyword"},"const"),(0,t.Uk)(" quotient "),(0,t._)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t._)("span",{class:"token keyword"},"await"),(0,t.Uk)(),(0,t._)("span",{class:"token function"},"getQuotient"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token number"},"4"),(0,t._)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t._)("span",{class:"token number"},"0"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t._)("span",{class:"token string"},'"The quotient is "'),(0,t._)("span",{class:"token operator"},"+"),(0,t.Uk)("quotient"),(0,t._)("span",{class:"token operator"},"+"),(0,t._)("span",{class:"token string"},'"."'),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t._)("span",{class:"token keyword"},"catch"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t._)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n\tconsole"),(0,t._)("span",{class:"token punctuation"},"."),(0,t._)("span",{class:"token function"},"log"),(0,t._)("span",{class:"token punctuation"},"("),(0,t.Uk)("error"),(0,t._)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t._)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t._)("div",{class:"line-numbers"},[(0,t._)("span",{class:"line-number"},"1"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"2"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"3"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"4"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"5"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"6"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"7"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"8"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"9"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"10"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"11"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"12"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"13"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"14"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"15"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"16"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"17"),(0,t._)("br"),(0,t._)("span",{class:"line-number"},"18"),(0,t._)("br")])],-1),pt=(0,t._)("p",null,[(0,t.Uk)("Note that when you implement functions that makes use of promises from scratch, the implementation can have a few symptoms of callback hell, as "),(0,t._)("code",null,"getQuotient()"),(0,t.Uk)(" above. The real benefit with promises is that the code is really easy to read when you call functions returning promises, as in the try/catch block above.")],-1),it=(0,t._)("h2",{id:"recommended-reading",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#recommended-reading","aria-hidden":"true"},"#"),(0,t.Uk)(" Recommended Reading")],-1),rt=(0,t.Uk)("The following chapters from the book "),kt={href:"https://eloquentjavascript.net/",target:"_blank",rel:"noopener noreferrer"},_t=(0,t.Uk)("Eloquent JavaScript"),mt=(0,t.Uk)(": "),bt=(0,t._)("ul",null,[(0,t._)("li",null,[(0,t._)("ol",{start:"11"},[(0,t._)("li",null,"Asynchronous Programming")])])],-1),dt={},ht=(0,a(3744).Z)(dt,[["render",function(n,s){const a=(0,t.up)("FigureNumber"),dt=(0,t.up)("Figure"),ht=(0,t.up)("SleepButton"),Ut=(0,t.up)("RenderMermaid"),wt=(0,t.up)("OutboundLink");return(0,t.wg)(),(0,t.iD)(t.HY,null,[e,(0,t._)("p",null,[o,c,l,u,p,(0,t.Wm)(a),i]),(0,t.Wm)(dt,{caption:"Example of synchronous programming in JavaScript."},{default:(0,t.w5)((()=>[r])),_:1}),(0,t._)("p",null,[k,(0,t.Wm)(a,{previous:""}),_]),m,b,d,h,(0,t._)("p",null,[U,(0,t.Wm)(ht,{sleepMs:3e3},{default:(0,t.w5)((()=>[w])),_:1}),g]),(0,t._)("p",null,[f,(0,t.Wm)(a),y]),(0,t.Wm)(dt,{caption:"Example of problem with synchronous programming."},{default:(0,t.w5)((()=>[v])),_:1}),S,(0,t._)("p",null,[W,(0,t.Wm)(a),x]),(0,t.Wm)(dt,{caption:"Sequence diagram where the app waits for three things at three different times (3 seconds in total)."},{default:(0,t.w5)((()=>[(0,t.Wm)(Ut,{"graph-definition":"\nsequenceDiagram\n\tparticipant App\n\tparticipant DB\n\tparticipant Server\n\tparticipant FileSystem\n\tApp->>DB: getData()\n\tactivate App\n\tactivate DB\n\tApp->>App: Waiting 1 second\n\tDB--\x3e>App: Data\n\tdeactivate DB\n\tApp->>Server: sendRequest()\n\tactivate Server\n\tApp->>App: Waiting 1 second\n\tServer--\x3e>App: Response\n\tdeactivate Server\n\tApp->>FileSystem: openFile()\n\tactivate FileSystem\n\tApp->>App: Waiting 1 second\n\tFileSystem--\x3e>App: File\n\tdeactivate FileSystem\n\tdeactivate App\n"})])),_:1}),j,(0,t._)("p",null,[T,(0,t.Wm)(a),A]),(0,t.Wm)(dt,{caption:"Another example of problem with synchronous programming. "},{default:(0,t.w5)((()=>[I])),_:1}),(0,t._)("p",null,[P,(0,t.Wm)(a,{previous:""}),q]),E,(0,t._)("p",null,[F,D,B,(0,t.Wm)(a),z]),(0,t.Wm)(dt,{caption:"Sequence diagram where the app waits for three things at the same time (1 second in total)."},{default:(0,t.w5)((()=>[(0,t.Wm)(Ut,{"graph-definition":"\nsequenceDiagram\n\tparticipant App\n\tparticipant DB\n\tparticipant Server\n\tparticipant FileSystem\n\tApp->>DB: getData()\n\tactivate App\n\tactivate DB\n\tApp->>Server: sendRequest()\n\tactivate Server\n\tApp->>FileSystem: openFile()\n\tactivate FileSystem\n\tApp->>App: Waiting 1 second\n\tDB--\x3e>App: Data\n\tdeactivate DB\n\tServer--\x3e>App: Response\n\tdeactivate Server\n\tFileSystem--\x3e>App: File\n\tdeactivate FileSystem\n\tdeactivate App\n"})])),_:1}),Q,(0,t._)("p",null,[C,(0,t.Wm)(a),R]),(0,t.Wm)(dt,{caption:"Example of a synchronous function."},{default:(0,t.w5)((()=>[J])),_:1}),(0,t._)("p",null,[H,O,N,(0,t.Wm)(a),G]),(0,t.Wm)(dt,{caption:"Example of an asynchronous function that will run synchronously."},{default:(0,t.w5)((()=>[L])),_:1}),Y,(0,t._)("ul",null,[(0,t._)("li",null,[(0,t._)("a",M,[Z,(0,t.Wm)(wt)]),K]),(0,t._)("li",null,[(0,t._)("a",V,[X,(0,t.Wm)(wt)]),$]),(0,t._)("li",null,[(0,t._)("a",nn,[sn,(0,t.Wm)(wt)]),an]),tn]),(0,t._)("p",null,[en,on,cn,ln,un,(0,t.Wm)(a),pn]),(0,t.Wm)(dt,{caption:"Example of an asynchronous function that will run asynchronously."},{default:(0,t.w5)((()=>[rn])),_:1}),kn,_n,mn,(0,t._)("p",null,[bn,(0,t.Wm)(a),dn]),(0,t.Wm)(dt,{caption:"Example of error handling in synchronous programming using exceptions."},{default:(0,t.w5)((()=>[hn])),_:1}),(0,t._)("p",null,[Un,wn,gn,(0,t.Wm)(a),fn]),(0,t.Wm)(dt,{caption:"Trying to catch exceptions when calling an asynchronous function."},{default:(0,t.w5)((()=>[yn])),_:1}),vn,(0,t._)("p",null,[Sn,Wn,xn,jn,Tn,An,In,Pn,qn,En,Fn,(0,t.Wm)(a),Dn]),(0,t.Wm)(dt,{caption:"Example of error handling in asynchronous programming with callback functions."},{default:(0,t.w5)((()=>[Bn])),_:1}),zn,(0,t._)("p",null,[Qn,Cn,Rn,(0,t.Wm)(a),Jn]),(0,t.Wm)(dt,{caption:"Example of sequential calls to asynchronous functions with callbacks."},{default:(0,t.w5)((()=>[Hn])),_:1}),(0,t._)("p",null,[On,(0,t._)("a",Nn,[Gn,(0,t.Wm)(wt)]),Ln]),(0,t._)("p",null,[Yn,(0,t.Wm)(a),Mn]),(0,t.Wm)(dt,{caption:"Example of sequential calls to synchronous functions."},{default:(0,t.w5)((()=>[Zn])),_:1}),Kn,Vn,Xn,(0,t._)("p",null,[$n,ns,ss,as,ts,es,os,cs,ls,us,ps,(0,t.Wm)(a),is]),(0,t.Wm)(dt,{caption:"State diagram over promises."},{default:(0,t.w5)((()=>[(0,t.Wm)(Ut,{"graph-definition":"\nstateDiagram-v2\n\tstate Pending\n\tstate Fulfilled\n\tstate Rejected\n\t[*] --\x3e Pending : Promise created, long running operation runs in background\n\tPending --\x3e Fulfilled : Long running operation completed successfully\n\tPending --\x3e Rejected : Error occurred in the long running operation\n"})])),_:1}),rs,(0,t._)("p",null,[ks,_s,ms,bs,ds,(0,t.Wm)(a),hs]),(0,t.Wm)(dt,{caption:"Sample usage of an asynchronous function with a callback."},{default:(0,t.w5)((()=>[Us])),_:1}),(0,t._)("p",null,[ws,gs,fs,ys,vs,(0,t.Wm)(a),Ss]),(0,t.Wm)(dt,{caption:"Sample usage of an asynchronous function returning a promise."},{default:(0,t.w5)((()=>[Ws])),_:1}),xs,(0,t._)("p",null,[js,Ts,As,Is,Ps,qs,Es,Fs,Ds,Bs,zs,(0,t.Wm)(a),Qs]),(0,t.Wm)(dt,{caption:"Sample usage of an asynchronous function returning a promise."},{default:(0,t.w5)((()=>[Cs])),_:1}),(0,t._)("p",null,[Rs,Js,Hs,Os,Ns,Gs,Ls,(0,t.Wm)(a),Ys]),(0,t.Wm)(dt,{caption:"Sample usage of an asynchronous function returning back a promise."},{default:(0,t.w5)((()=>[Ms])),_:1}),(0,t._)("p",null,[Zs,(0,t.Wm)(a),Ks]),(0,t.Wm)(dt,{caption:"Sample usage of a synchronous function."},{default:(0,t.w5)((()=>[Vs])),_:1}),(0,t._)("p",null,[Xs,(0,t.Wm)(a),$s]),(0,t.Wm)(dt,{caption:"Example of callback hell."},{default:(0,t.w5)((()=>[na])),_:1}),(0,t._)("p",null,[sa,aa,ta,(0,t.Wm)(a,{previous:""}),ea,(0,t.Wm)(a),oa]),(0,t.Wm)(dt,{caption:"Sample usage of sequential calls to asynchronous functions returning back promises."},{default:(0,t.w5)((()=>[ca])),_:1}),(0,t._)("p",null,[la,ua,pa,(0,t.Wm)(a,{previous:""}),ia,ra,ka]),(0,t._)("p",null,[_a,(0,t.Wm)(a),ma]),(0,t.Wm)(dt,{caption:"Sample usage of sequential calls to synchronous functions."},{default:(0,t.w5)((()=>[ba])),_:1}),da,(0,t._)("p",null,[ha,Ua,wa,ga,fa,(0,t.Wm)(a),ya]),(0,t.Wm)(dt,{caption:"Sample usage of an asynchronous function returning back a promise."},{default:(0,t.w5)((()=>[va])),_:1}),(0,t._)("p",null,[Sa,Wa,xa,(0,t.Wm)(a),ja]),(0,t.Wm)(dt,{caption:"Sample usage of an awaiting an promise returned back from a function."},{default:(0,t.w5)((()=>[Ta])),_:1}),Aa,(0,t._)("p",null,[Ia,Pa,qa,Ea,Fa,Da,Ba,za,Qa,(0,t.Wm)(a),Ca]),(0,t.Wm)(dt,{caption:"Example of async functions."},{default:(0,t.w5)((()=>[Ra])),_:1}),Ja,Ha,(0,t._)("ul",null,[(0,t._)("li",null,[(0,t._)("a",Oa,[Na,(0,t.Wm)(wt)])])]),(0,t._)("p",null,[Ga,(0,t._)("a",La,[Ya,(0,t.Wm)(wt)]),Ma,(0,t.Wm)(a),Za]),(0,t.Wm)(dt,{caption:"Template for creating your own promise."},{default:(0,t.w5)((()=>[Ka])),_:1}),Va,Xa,(0,t._)("p",null,[$a,nt,st,(0,t.Wm)(a),at]),(0,t.Wm)(dt,{caption:"A function returning a custom promise."},{default:(0,t.w5)((()=>[tt])),_:1}),(0,t._)("p",null,[et,ot,ct,(0,t.Wm)(a),lt]),(0,t.Wm)(dt,{caption:"A function returning a custom promise that runs (waits) in the background."},{default:(0,t.w5)((()=>[ut])),_:1}),pt,it,(0,t._)("ul",null,[(0,t._)("li",null,[rt,(0,t._)("a",kt,[_t,(0,t.Wm)(wt)]),mt,bt])])],64)}]])},3744:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,t]of s)a[n]=t;return a}},5095:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t={key:"v-5ca189d4",path:"/lectures/asynchronous-programming-in-js/",title:"Asynchronous Programming in JavaScript",lang:"en-US",frontmatter:{sidebar:"auto",navbarTitle:"Asynchronous Programming in JavaScript"},excerpt:"",headers:[{level:2,title:"What is Synchronous Programming?",slug:"what-is-synchronous-programming",children:[]},{level:2,title:"What's the Problem with Synchronous Programming?",slug:"what-s-the-problem-with-synchronous-programming",children:[{level:3,title:"Example 1: Graphical User Interfaces",slug:"example-1-graphical-user-interfaces",children:[]},{level:3,title:"Example 2: Data Loading",slug:"example-2-data-loading",children:[]}]},{level:2,title:"What is Asynchronous Programming?",slug:"what-is-asynchronous-programming",children:[]},{level:2,title:"Asynchronous Programming with Callback Functions",slug:"asynchronous-programming-with-callback-functions",children:[{level:3,title:"Error Handling",slug:"error-handling",children:[]}]},{level:2,title:"The Drawback with Asynchronous Programming with Callback Functions",slug:"the-drawback-with-asynchronous-programming-with-callback-functions",children:[]},{level:2,title:"What are Promises?",slug:"what-are-promises",children:[]},{level:2,title:"Async and Await",slug:"async-and-await",children:[]},{level:2,title:"How to Create Promises",slug:"how-to-create-promises",children:[]},{level:2,title:"Recommended Reading",slug:"recommended-reading",children:[]}],filePathRelative:"lectures/asynchronous-programming-in-js/README.md",git:{updatedTime:1642356151e3}}}}]);
//# sourceMappingURL=v-5ca189d4.4af176dc.js.map